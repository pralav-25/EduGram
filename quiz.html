
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ray & Wave Optics Quiz</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      background: #1e1e2f;
      color: #fff;
      text-align: center;
      padding: 20px;
    }
    .quiz-container {
      background: #2a2a40;
      padding: 20px;
      border-radius: 10px;
      max-width: 700px;
      margin: auto;
    }
    h1 { color: #ffcc70; }
    .options {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
      margin-top: 20px;
    }
    .option {
      padding: 15px;
      background: #3b3b52;
      border-radius: 10px;
      cursor: pointer;
      transition: 0.3s;
    }
    .option:hover { background: #4b4b6a; }
    .correct { background: #4CAF50 !important; color: white; }
    .wrong { background: #f44336 !important; color: white; }
    #result {
      margin-top: 20px;
      font-size: 20px;
      font-weight: bold;
      color: #ffcc70;
    }
    #retryBtn {
      margin-top: 20px;
      padding: 12px 20px;
      font-size: 16px;
      border: none;
      border-radius: 8px;
      background: #007BFF;
      color: white;
      cursor: pointer;
      display: none;
    }
  </style>
</head>
<body>
  <div class="quiz-container">
    <h1>Ray & Wave Optics Quiz</h1>
    <div id="question">Loading...</div>
    <div id="options" class="options"></div>
    <div id="result"></div>
    <button id="retryBtn" onclick="retryWrong()">Retry Wrong Questions</button>
  </div>

  <script>
    // ---- Full Question Bank (shortened for example, add all 50+ here) ----
    const questionBank = [
      { q: "Critical angle for glass-air interface (μ = 1.5) is:", options: ["30°","42°","45°","60°"], correct: 1 },
      { q: "Which phenomenon explains why a coin in water looks raised?", options: ["Reflection","Diffraction","Refraction","Interference"], correct: 2 },
      { q: "Which lens is used in a simple microscope?", options: ["Concave","Convex","Cylindrical","Plano-concave"], correct: 1 },
      { q: "Which mirror is used as rear-view mirror in vehicles?", options: ["Plane","Concave","Convex","Parabolic"], correct: 2 },
      { q: "Total internal reflection occurs when light travels from:", options: ["Denser to rarer medium","Rarer to denser medium","Air to vacuum","None"], correct: 0 },
      { q: "Focal length of a plane mirror is:", options: ["0","Infinity","1","Depends on size"], correct: 1 },
      { q: "The image formed by a concave mirror can be:", options: ["Only real","Only virtual","Both real and virtual","None"], correct: 2 },
      { q: "Which color of light deviates the most in a prism?", options: ["Red","Green","Blue","Violet"], correct: 3 },
      { q: "Which color deviates least in a prism?", options: ["Red","Blue","Green","Violet"], correct: 0 },
      { q: "Power of a lens is measured in:", options: ["Diopter","Candela","Lux","Tesla"], correct: 0 },
      { q: "Unit of focal length is:", options: ["Metre","Candela","Lumen","Diopter"], correct: 0 },
      { q: "A convex mirror always forms:", options: ["Real image","Virtual image","Inverted image","None"], correct: 1 },
      { q: "Speed of light is maximum in:", options: ["Glass","Air","Water","Diamond"], correct: 1 },
      { q: "In refraction, which quantity remains unchanged?", options: ["Speed","Wavelength","Frequency","Velocity"], correct: 2 },
      { q: "The angle of incidence for which the angle of refraction is 90° is called:", options: ["Brewster angle","Critical angle","Minimum deviation","Glancing angle"], correct: 1 },
      { q: "Optical fibers work on:", options: ["Diffraction","Dispersion","Total internal reflection","Polarization"], correct: 2 },
      { q: "The focal length of a convex lens is 20 cm. Its power is:", options: ["+5D","+10D","+20D","+2D"], correct: 0 },
      { q: "Mirage is an example of:", options: ["Refraction","Reflection","Dispersion","Diffraction"], correct: 0 },
      { q: "Which type of lens has negative focal length?", options: ["Convex","Concave","Cylindrical","Plano-convex"], correct: 1 },
      { q: "Rainbow is caused due to:", options: ["Refraction","Dispersion and TIR","Diffraction","Polarization"], correct: 1 },
      { q: "What is the magnification of a plane mirror?", options: ["0","1","Infinity","Depends on distance"], correct: 1 },
      { q: "Which lens is used in a projector?", options: ["Convex","Concave","Cylindrical","Plano-concave"], correct: 0 },
      { q: "Which mirror is used in a torch?", options: ["Concave","Convex","Plane","None"], correct: 0 },
      { q: "The focal length of a concave mirror is taken as:", options: ["Positive","Negative","Zero","Depends"], correct: 1 },
      { q: "In lenses, chromatic aberration occurs due to:", options: ["Reflection","Refraction","Dispersion","Diffraction"], correct: 2 },
      { q: "Which lens is used in magnifying glass?", options: ["Concave","Convex","Cylindrical","Plano-concave"], correct: 1 },
      { q: "The power of a concave lens is always:", options: ["Positive","Negative","Zero","None"], correct: 1 },

      // ---- Wave Optics ----
      { q: "The wave theory of light was proposed by:", options: ["Newton","Huygens","Einstein","Planck"], correct: 1 },
      { q: "Which phenomenon proves the wave nature of light?", options: ["Reflection","Refraction","Diffraction","Photoelectric effect"], correct: 2 },
      { q: "In Young's double slit experiment, fringes are due to:", options: ["Diffraction","Polarization","Interference","Reflection"], correct: 2 },
      { q: "Which color has maximum wavelength?", options: ["Red","Blue","Green","Violet"], correct: 0 },
      { q: "Which color has maximum frequency?", options: ["Red","Blue","Green","Violet"], correct: 3 },
      { q: "The central fringe in Young’s double slit experiment is:", options: ["Bright","Dark","Depends on wavelength","Not defined"], correct: 0 },
      { q: "Brewster’s law is related to:", options: ["Diffraction","Polarization","Interference","Dispersion"], correct: 1 },
      { q: "Which wave property is responsible for diffraction?", options: ["Wavelength","Frequency","Speed","Amplitude"], correct: 0 },
      { q: "In a diffraction pattern, central maximum is:", options: ["Brightest","Dark","Same as others","Not seen"], correct: 0 },
      { q: "Malus law is related to:", options: ["Polarization","Reflection","Interference","Diffraction"], correct: 0 },
      { q: "Which of these cannot be polarized?", options: ["Light","Sound","Radio waves","Gamma rays"], correct: 1 },
      { q: "What is the unit of fringe width?", options: ["Metre","Diopter","Candela","None"], correct: 0 },
      { q: "Fringe width in Young’s experiment is proportional to:", options: ["Slit separation","Distance between slits and screen","Wavelength","Both b and c"], correct: 3 },
      { q: "Which of these phenomena supports particle nature of light?", options: ["Photoelectric effect","Interference","Diffraction","Polarization"], correct: 0 },
      { q: "The color of soap bubbles in sunlight is due to:", options: ["Refraction","Diffraction","Interference","Scattering"], correct: 2 },
      { q: "Which experiment proved the wave nature of electrons?", options: ["Compton scattering","Davisson-Germer","Photoelectric effect","Double slit"], correct: 1 },
      { q: "Which phenomenon is used in sunglasses?", options: ["Reflection","Diffraction","Polarization","Interference"], correct: 2 },
      { q: "Which of these is NOT explained by Huygens’ principle?", options: ["Reflection","Refraction","Polarization","Diffraction"], correct: 2 },
      { q: "The maximum order of diffraction is limited by:", options: ["Slit width","Grating element","Wavelength","All"], correct: 3 },
      { q: "The first minimum in a single slit diffraction pattern occurs at:", options: ["θ = λ/a","θ = a/λ","θ = λ/2a","θ = 2λ/a"], correct: 0 },
      { q: "When white light passes through a prism, which color emerges first?", options: ["Red","Green","Blue","Violet"], correct: 0 },
      { q: "Which type of waves can exhibit interference?", options: ["Mechanical","Electromagnetic","Sound","All"], correct: 3 },
      { q: "The angular separation of fringes depends on:", options: ["Wavelength","Slit separation","Screen distance","All"], correct: 3 }
    ];

    // ---- Game Variables ----
    let quizData = [];   // 10 selected random Qs
    let currentQ = 0;
    let score = 0;
    let wrongQs = [];

    const questionEl = document.getElementById("question");
    const optionsEl = document.getElementById("options");
    const resultEl = document.getElementById("result");
    const retryBtn = document.getElementById("retryBtn");

    // ---- Initialize quiz with 10 random questions ----
    function startQuiz() {
      quizData = questionBank.sort(() => Math.random() - 0.5).slice(0, 10);
      currentQ = 0;
      score = 0;
      wrongQs = [];
      retryBtn.style.display = "none";
      loadQuestion();
    }

    // ---- Load a question ----
    function loadQuestion() {
      if (currentQ < quizData.length) {
        let q = quizData[currentQ];
        questionEl.textContent = q.q;
        optionsEl.innerHTML = "";
        q.options.forEach((opt, i) => {
          let btn = document.createElement("div");
          btn.classList.add("option");
          btn.textContent = opt;
          btn.onclick = () => checkAnswer(i, q.correct, btn, q);
          optionsEl.appendChild(btn);
        });
      } else {
        endQuiz();
      }
    }

    // ---- Check Answer ----
    function checkAnswer(i, correct, btn, q) {
      if (i === correct) {
        btn.classList.add("correct");
        score++;
      } else {
        btn.classList.add("wrong");
        wrongQs.push(q);
      }
      setTimeout(() => {
        currentQ++;
        loadQuestion();
      }, 700);
    }

    // ---- End Quiz ----
    function endQuiz() {
      optionsEl.innerHTML = "";
      questionEl.textContent = "";
      resultEl.textContent = `You scored ${score} / ${quizData.length}`;

      if (wrongQs.length === 0) {
        // All correct → Go to puzzle
        resultEl.textContent += " 🎉 Perfect! Redirecting to puzzle...";
        setTimeout(() => {
          window.location.href = "lighPuzzle.html";
        }, 2000);
      } else {
        retryBtn.style.display = "inline-block";
      }
    }

    // ---- Retry Wrong Questions ----
    function retryWrong() {
      if (wrongQs.length > 0) {
        quizData = wrongQs; // only retry wrong ones
        wrongQs = [];
        currentQ = 0;
        score = 0;
        retryBtn.style.display = "none";
        resultEl.textContent = "";
        loadQuestion();
      }
    }

    startQuiz();
  </script>
</body>
</html>


